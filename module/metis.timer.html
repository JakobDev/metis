<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>metis.timer</title><link rel="stylesheet" href="../styles.css" type="text/css" /></head><body><div id="container"><div id="main"><nav><h1>metis</h1><h2>Modules</h2><ul><li><a href="metis.argparse.html">metis.argparse</a></li><li><a href="metis.crypto.sha1.html">metis.crypto.sha1</a></li><li><strong>metis.timer</strong></li></ul></nav><section id="content"><h1><code>metis.timer</code></h1><p>Utilities for working with timers.</p>
<table class="definition-list"><tr><th class="definition-name"><a href="#v:timeout">timeout(The, fn, ...)</a></th><td>Run a function, waiting for it to complete or for a timer to expire.</td></tr></table><dl class="definition"><dt><a name="v:timeout" href="#v:timeout"></a><span class="definition-name">timeout(The, fn, ...)</span><a href="https://github.com/SquidDev-CC/metis/blob/d624683f4e8bfa5da5f838fb142dd294543b1cc4/src/metis/timer.lua#L21" class="source-link">Source</a></dt><dd><p>Run a function, waiting for it to complete or for a timer to expire.</p>
<p>This <em>does not</em> terminate a function which is running. It must yield (e.g.
pull an event) in order to be interrupted.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">The</span> <span class="type"><span class="reference reference-code">number</span></span> time (in seconds) the function can run for before begin
stopped.</li><li><span class="parameter">fn</span> <span class="type"><span class="reference reference-code">function</span></span> The function to run.</li><li><span class="parameter">...</span>  Arguments to pass to the function.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">true</span> If the function completes without timing out.</li><li> ... The return values of the function.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">false</span> If the function times out.</li></ol><h3>Usage</h3><ul><li><p>Wait for a &quot;redstone&quot; event for a maximum of 5 seconds.</p>
<pre class="highlight highlight-lua"><span class="keyword">local</span> <span class="ident">timeout</span> <span class="symbol">=</span> <span class="ident">require</span> <span class="string">"metis.timer"</span><span class="symbol">.</span><span class="symbol">timeout</span>
<span class="ident">timeout</span><span class="symbol">(</span><span class="number">5</span><span class="symbol">,</span> <span class="ident">os</span><span class="symbol">.</span><span class="symbol">pullEvent</span><span class="symbol">,</span> <span class="string">"redstone"</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul></dd></dl></section></div><footer>Last updated on 2020-07-26</footer></div></body></html>